{"version":3,"file":"dark_color_scheme.ec4b65d6560c3e58a4a9.js","mappings":"mBAAO,MAAMA,EAMLC,IACJ,IAAIC,EAAQ,KACZ,IACEA,EAAQC,aAAaC,QAAQH,EAC/B,CAAE,MAAOI,GACPC,QAAQC,MAAMF,EAChB,CACA,OAAOH,CAAK,EAbHF,EAqBN,CAACC,EAAKC,KACT,IACEC,aAAaK,QAAQP,EAAKC,EAC5B,CAAE,MAAOG,GACPC,QAAQC,MAAMF,EAChB,GCvBEI,EAAoB,UACpBC,EAAmB,UAqDzB,SAASC,EAAiBC,GACxBC,SAASC,gBAAgBC,QAAQH,YAAcA,EAC/C,MAAMI,EAAwBH,SAASI,cACrC,4BAE4B,OAA1BD,GAGFA,EAAsBE,aACpB,UACgB,SAAhBN,EAAyBF,EAAmBD,EAGlD,EA3DA,WACE,MAAMU,EAAkCC,MAAMC,KAC5CR,SAASS,uBAAuB,+BAE5BV,EAAcZ,EAAwB,eAC5C,GAAoB,SAAhBY,GAA0C,UAAhBA,EAC5BO,EAAgCI,SAASC,IAEvCA,EAAKC,QAA0B,SAAhBb,CAAsB,IAEvCD,EAAiBC,OACZ,CACL,MAAMc,EAA4BC,OAAOC,WACvC,gCACAC,QAKFlB,EAAiBe,EAA4B,OAAS,SACtDP,EAAgCI,SAASC,IAEvCA,EAAKC,QAAUC,CAAyB,GAE5C,CACAP,EAAgCI,SAASC,IACvCA,EAAKM,iBAAiB,UAAU,KAE9B,MAAMlB,EAAcY,EAAKC,QAAU,OAAS,QAC5Cd,EAAiBC,GACjBZ,EAAwB,cAAeY,GAEvCO,EAAgCI,SAASQ,IACnCA,IAAYP,IAEdO,EAAQN,QAAUD,EAAKC,QACzB,GACA,GACF,GAEN,CA7CAO,E","sources":["webpack://gorisanson.github.io/./src/resources/js/utils/local_storage_wrapper.js","webpack://gorisanson.github.io/./src/resources/js/utils/dark_color_scheme.js"],"sourcesContent":["export const localStorageWrapper = {\n  /**\n   * Get value corresponding to the key from localStorage\n   * @param {string} key\n   * @returns {string|null}\n   */\n  get: (key) => {\n    let value = null;\n    try {\n      value = localStorage.getItem(key);\n    } catch (err) {\n      console.error(err);\n    }\n    return value;\n  },\n\n  /*\n   * Set key-value pair to the localStorage\n   * @param {string} key\n   * @param {string} value\n   */\n  set: (key, value) => {\n    try {\n      localStorage.setItem(key, value);\n    } catch (err) {\n      console.error(err);\n    }\n  },\n};\n","'use strict';\nimport { localStorageWrapper } from './local_storage_wrapper';\nimport '../../style.css';\nconst THEME_COLOR_LIGHT = '#FFFFFF';\nconst THEME_COLOR_DARK = '#202124';\n\nsetUpDarkColorSchemeCheckbox();\n\n/**\n * Set up dark color scheme checkbox\n */\nfunction setUpDarkColorSchemeCheckbox() {\n  const darkColorSchemeCheckboxElements = Array.from(\n    document.getElementsByClassName('dark-color-scheme-checkbox')\n  );\n  const colorScheme = localStorageWrapper.get('colorScheme');\n  if (colorScheme === 'dark' || colorScheme === 'light') {\n    darkColorSchemeCheckboxElements.forEach((elem) => {\n      // @ts-ignore\n      elem.checked = colorScheme === 'dark';\n    });\n    applyColorScheme(colorScheme);\n  } else {\n    const doesPreferDarkColorScheme = window.matchMedia(\n      '(prefers-color-scheme: dark)'\n    ).matches;\n    // The following line is not for \"document.documentElement.dataset.colorScheme = colorScheme;\".\n    // document.documentElement.dataset.colorShceme is not needed to be set for displaying dark color scheme,\n    // since style.css has media query \"@media (prefers-color-scheme: dark)\" which deals with it without JavaScript.\n    // The following line is for setting theme color and etc...\n    applyColorScheme(doesPreferDarkColorScheme ? 'dark' : 'light');\n    darkColorSchemeCheckboxElements.forEach((elem) => {\n      // @ts-ignore\n      elem.checked = doesPreferDarkColorScheme;\n    });\n  }\n  darkColorSchemeCheckboxElements.forEach((elem) => {\n    elem.addEventListener('change', () => {\n      // @ts-ignore\n      const colorScheme = elem.checked ? 'dark' : 'light';\n      applyColorScheme(colorScheme);\n      localStorageWrapper.set('colorScheme', colorScheme);\n      // For syncing states of other checkbox elements\n      darkColorSchemeCheckboxElements.forEach((element) => {\n        if (element !== elem) {\n          // @ts-ignore\n          element.checked = elem.checked;\n        }\n      });\n    });\n  });\n}\n\n/**\n * Apply color scheme. (Display color scheme to the screen.)\n * @param {string} colorScheme 'dark' or 'light'\n */\nfunction applyColorScheme(colorScheme) {\n  document.documentElement.dataset.colorScheme = colorScheme;\n  const themeColorMetaElement = document.querySelector(\n    'meta[name=\"theme-color\"]'\n  );\n  if (themeColorMetaElement !== null) {\n    // The line below is for the status bar color, which is set by theme-color\n    // meta tag content, of PWA in Apple devices.\n    themeColorMetaElement.setAttribute(\n      'content',\n      colorScheme === 'dark' ? THEME_COLOR_DARK : THEME_COLOR_LIGHT\n    );\n  }\n}\n"],"names":["localStorageWrapper","key","value","localStorage","getItem","err","console","error","setItem","THEME_COLOR_LIGHT","THEME_COLOR_DARK","applyColorScheme","colorScheme","document","documentElement","dataset","themeColorMetaElement","querySelector","setAttribute","darkColorSchemeCheckboxElements","Array","from","getElementsByClassName","forEach","elem","checked","doesPreferDarkColorScheme","window","matchMedia","matches","addEventListener","element","setUpDarkColorSchemeCheckbox"],"sourceRoot":""}